<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChungSubin - 祝福页</title>
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair Display&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      overflow-x: hidden;
      background: #000;
      color: #fff;
    }

    canvas#fireworkCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .center-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      font-size: 3rem;
      font-weight: bold;
      color: #070707;
      z-index: 1;
    }

    .navbar {
      background-color: #8747bb;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .nav-tabs {
      display: flex;
      gap: 1rem;
    }

    .nav-tab {
      color: white;
      text-decoration: none;
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      transition: background-color 0.3s;
      font-family: 'Playfair Display', serif;
      font-size: 20px;
      font-weight: bold;
    }

    .nav-tab:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    .nav-tab.active {
      background-color: white;
      color: purple;
      font-weight: bold;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      font-family: 'Lobster', cursive;
    }

    .countdown {
      font-size: 1rem;
      font-family: 'Pacifico', cursive;
    }

    footer {
      background-color: #000;
      color: #fff;
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
    }

    .comment-section {
      position: relative;
      z-index: 1;
      background: linear-gradient(90deg, #f22d2d, #fc8b1b, #f2f240, #3eee3e, #62d5fb, #4242f6, #9239da);
      border-radius: 16px;
      padding: 20px;
      margin: 50px auto 50px auto;
      max-width: 650px;
      min-height: 400px;
      color: #fff;
    }

    .comment-section h2 {
      text-align: center;
      margin-bottom: 10px;
    }

    .comment-section input,
    .comment-section textarea {
      width: 100%;
      padding: 8px;
      margin: 5px 0;
      border-radius: 8px;
      border: none;
    }

    .comment-section button {
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      background: #fff;
      cursor: pointer;
      color: #000;
      font-weight: bold;
    }

    .comment-list {
      max-height: 400px;
      overflow-y: auto;
      margin-top: 10px;
    }

    .comment-item {
      padding: 10px;
      margin: 8px 0;
      border-radius: 12px;
      color: #fff;
      word-wrap: break-word;
    }

    footer {
      text-align: center;
      padding: 20px;
      background: rgba(0, 0, 0, 0.7);
      margin-top: 50px;
    }

    .img-section {
      width: 40%;
      max-width: 900px;
      margin: 2rem auto;
      text-align: center;
    }

    .img-section img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 1rem;
    }
  </style>
</head>

<body>

  <canvas id="fireworkCanvas"></canvas>

  <header class="navbar">
    <div class="logo">ChungSubin</div>
    <nav class="nav-tabs">
      <a href="index.html" class="nav-tab" id="tab-home">Home&#128156;</a>
      <a href="roles.html" class="nav-tab" id="tab-role">Roles&#127803;</a>
      <a href="book.html" class="nav-tab" id="tab-book">Answers&#127808;</a>
      <a href="wish.html" class="nav-tab active" id="tab-bless">Blessings&#128008;&#65039;</a>
    </nav>
    <div class="countdown" id="countdown"></div>
  </header>
  <section class="img-section">
    <img src="img/ch.jpg" alt="Subin的彩虹">
    <h2>谢谢你们送给我彩虹🌈💛</h2>
  </section>

  <section class="comment-section" style="color: #000;">
    <h2>댓글판&#128008;&#65039;留言板</h2>
    <input id="nickname" placeholder="닉네임 (최대 15자)&#128008;&#65039;昵称 (最多15字)" maxlength="15" required />
    <textarea id="comment" rows="4" placeholder="하고 싶은 말을 적어주세요... (최대 217자)&#128008;&#65039;说点什么吧... (最多217字)" maxlength="217" required></textarea>
    <button onclick="submitComment()">send</button>
    <div id="commentList" class="comment-list"></div>
  </section>


  <footer>
    Copyright © CHUNGFOR ALL Rights Reserved. CHUNGFOR 版权所有
  </footer>

  <script>
    function padZero(num) { return num < 10 ? '0' + num : num; }
    function updateCountdown() {
      const el = document.getElementById('countdown');
      const birthday = new Date('2025-08-17T00:00:00+09:00');
      const now = new Date();
      const diff = birthday - now;
      if (diff <= 0) { el.innerText = 'Happy Birthday!'; return; }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      el.innerText = `countdown：${days}days ${padZero(hours)}:${padZero(minutes)}:${padZero(seconds)}`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>

 
  <script>
    const sensitiveWords = ["wsl", "哥哥", "丑", "死", "约会", "doi", "DOI", "죽어", "못생겼어", "约炮", "쓰레기", "fuck", "shit", "bitch", "垃圾"];
    function containsSensitive(input) { return sensitiveWords.some(word => new RegExp(word, 'i').test(input)); }
    function getRandomRainbowColor() { const colors = ["#f64444", "#f19235", "#f2f240", "#60f860", "#62d5fb", "#5b71f4", "#b165ef"]; return colors[Math.floor(Math.random() * colors.length)]; }

    function submitComment() {
      const nickname = document.getElementById('nickname').value.trim();
      const comment = document.getElementById('comment').value.trim();
      if (!nickname || !comment) return alert("닉네임과 댓글 내용을 작성해주세요! 请填写昵称和评论内容！");
      if (nickname.length > 15 || comment.length > 217) return alert("글자 수 제한을 초과했습니다! 超出长度限制！");
      if (containsSensitive(nickname) || containsSensitive(comment)) return alert("민감한 내용을 입력하지 마세요 请勿输入敏感内容");

      const now = new Date();
      const nowStr = now.toLocaleString();
      const commentItem = document.createElement("div");
      commentItem.className = "comment-item";
      commentItem.style.backgroundColor = getRandomRainbowColor();
       commentItem.style.color = "black";
      commentItem.innerHTML = `<strong>${nickname}</strong> (${nowStr})<br>${comment}`;

      const list = document.getElementById('commentList');
      list.appendChild(commentItem);


const items = Array.from(list.children);
items.sort((a, b) => new Date(b.querySelector("strong").nextSibling.textContent.match(/\((.*?)\)/)[1]) - new Date(a.querySelector("strong").nextSibling.textContent.match(/\((.*?)\)/)[1]));
list.innerHTML = "";
items.forEach(item => list.appendChild(item));


      document.getElementById('nickname').value = '';
      document.getElementById('comment').value = '';
    }
  </script>


  <script>
    const canvas = document.getElementById("fireworkCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let hue = 120, timerTick = 0, timerTotal = 5;
    const fireworks = [], particles = [];
    function random(min, max) { return Math.random() * (max - min) + min; }
    function distance(sx, sy, tx, ty) { return Math.hypot(sx - tx, sy - ty); }

    function Firework(sx, sy, tx, ty) {
      this.x = sx; this.y = sy; this.tx = tx; this.ty = ty;
      this.distanceToTarget = distance(sx, sy, tx, ty);
      this.distanceTraveled = 0;
      this.coordinates = Array(3).fill([sx, sy]);
      this.angle = Math.atan2(ty - sy, tx - sx);
      this.speed = 2; this.acceleration = 1.05;
      this.brightness = random(50, 70); this.targetRadius = 1;
    }
    Firework.prototype.update = function (i) {
      this.coordinates.pop(); this.coordinates.unshift([this.x, this.y]);
      this.speed *= this.acceleration;
      const vx = Math.cos(this.angle) * this.speed;
      const vy = Math.sin(this.angle) * this.speed;
      this.distanceTraveled = distance(this.x, this.y, this.x + vx, this.y + vy);
      if (this.distanceTraveled >= this.distanceToTarget) { createParticles(this.tx, this.ty); fireworks.splice(i, 1); }
      else { this.x += vx; this.y += vy; }
    }
    Firework.prototype.draw = function () {
      ctx.beginPath();
      ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
      ctx.lineTo(this.x, this.y); ctx.strokeStyle = `hsl(${hue},100%,${this.brightness}%)`; ctx.stroke();
      ctx.beginPath(); ctx.arc(this.tx, this.ty, this.targetRadius, 0, Math.PI * 2); ctx.stroke();
    }

    function Particle(x, y) {
      this.x = x; this.y = y; this.coordinates = Array(10).fill([x, y]);
      this.angle = random(0, 2 * Math.PI); this.speed = random(1, 10);
      this.friction = 0.95; this.gravity = 1; this.hue = random(hue - 20, hue + 20);
      this.brightness = random(50, 80); this.alpha = 1; this.decay = random(0.015, 0.03);
    }
    Particle.prototype.update = function (i) {
      this.coordinates.pop(); this.coordinates.unshift([this.x, this.y]);
      this.speed *= this.friction;
      this.x += Math.cos(this.angle) * this.speed; this.y += Math.sin(this.angle) * this.speed + this.gravity;
      this.alpha -= this.decay; if (this.alpha <= this.decay) particles.splice(i, 1);
    }
    Particle.prototype.draw = function () {
      ctx.beginPath();
      ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
      ctx.lineTo(this.x, this.y); ctx.strokeStyle = `hsla(${this.hue},100%,${this.brightness}%,${this.alpha})`; ctx.stroke();
    }
    function createParticles(x, y) { for (let i = 0; i < 80; i++) particles.push(new Particle(x, y)); }

    function loop() {
      requestAnimationFrame(loop); hue += 0.5;
      ctx.globalCompositeOperation = "destination-out"; ctx.fillStyle = "rgba(0,0,0,0.5)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.globalCompositeOperation = "lighter";
      for (let i = fireworks.length - 1; i >= 0; i--) { fireworks[i].draw(); fireworks[i].update(i); }
      for (let i = particles.length - 1; i >= 0; i--) { particles[i].draw(); particles[i].update(i); }
      if (timerTick >= timerTotal) { fireworks.push(new Firework(canvas.width / 2, canvas.height, random(0, canvas.width), random(0, canvas.height / 1.2))); timerTick = 0; }
      else timerTick++;
    }
    window.onload = loop;
    window.onresize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
  </script>

</body>

</html>